pre-commit:
  parallel: true
  jobs:
    - name: js-lint
      glob: '*.js'
      run: npx eslint {staged_files}

    - name: js-format
      glob: '*.js'
      run: npx prettier --check {staged_files}

    - name: js-typecheck
      glob: '*.js'
      run: npx tsc --noEmit

    - name: go-vet
      glob: '*.go'
      run: go vet ./cmd/dev-console/

    - name: go-lint
      glob: '*.go'
      run: golangci-lint run ./cmd/dev-console/

pre-push:
  parallel: true
  jobs:
    - name: go-test
      glob: '*.go'
      run: make test

    - name: js-test
      glob: '*.js'
      run: node --test extension-tests/*.test.js
