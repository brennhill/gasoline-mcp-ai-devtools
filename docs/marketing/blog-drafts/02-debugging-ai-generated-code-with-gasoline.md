---
title: Debugging AI-Generated Code with Gasoline MCP
date: 2026-02-11
author: Brenn Hill
tags: [AI, Debugging, Tutorial, MCP]
description: A practical guide to using Gasoline MCP to debug code generated by AI assistants like Claude Code, Cursor, and Windsurf.
status: reference
last_reviewed: 2026-02-16
---

# Debugging AI-Generated Code with Gasoline MCP

AI coding assistants have revolutionized how we write code. But when that AI-generated code doesn't work, debugging can be frustrating. You're stuck switching between your AI tool and browser dev tools, copying error messages, and manually explaining what's happening.

Gasoline MCP solves this by giving your AI assistant real-time visibility into browser activity. Let's walk through a practical example.

## The Scenario: A Broken React Form

You've asked Claude Code to build a form that submits data to an API. The code looks correct, but when you test it, nothing happens.

### The AI-Generated Code

```jsx
// Form.jsx
import { useState } from 'react';

export default function ContactForm() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    message: ''
  });

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    try {
      const response = await fetch('/api/contact', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
      });
      
      if (!response.ok) {
        throw new Error('Submission failed');
      }
      
      alert('Message sent!');
    } catch (error) {
      console.error('Error submitting form:', error);
      alert('Failed to send message');
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type="text"
        name="name"
        value={formData.name}
        onChange={(e) => setFormData({...formData, name: e.target.value})}
      />
      <input
        type="email"
        name="email"
        value={formData.email}
        onChange={(e) => setFormData({...formData, email: e.target.value})}
      />
      <textarea
        name="message"
        value={formData.message}
        onChange={(e) => setFormData({...formData, message: e.target.value})}
      />
      <button type="submit">Send</button>
    </form>
  );
}
```

### The Problem

You fill out the form and click "Send". Nothing happens. The alert doesn't appear. No error message.

## Traditional Debugging Approach

Without Gasoline, here's what you'd do:

1. Open Chrome DevTools
2. Switch to Console tab
3. Fill out the form again
4. Click "Send"
5. See the error in console
6. Copy the error message
7. Switch back to Claude Code
8. Paste the error and explain the context
9. Wait for Claude to suggest a fix
10. Apply the fix
11. Test again

This process takes 10-15 minutes per iteration.

## With Gasoline MCP: One-Shot Debugging

With Gasoline MCP installed, Claude can see everything happening in the browser in real-time.

### Step 1: The Conversation

```
You: "The form I just built isn't submitting. Can you help debug it?"

Claude (with Gasoline MCP): "Let me check what's happening in the browser..."

[Claude uses Gasoline MCP tools]

Claude: "I can see the issue. When you click the submit button, a POST request is being sent to `/api/contact`, but it's returning a 404 error. The request payload looks correct:

```json
{
  "name": "Test User",
  "email": "test@example.com",
  "message": "This is a test"
}
```

The server is returning: `Cannot POST /api/contact`

This means the API endpoint doesn't exist on your server. You need to either:
1. Create the `/api/contact` endpoint on your server, or
2. Update the form to submit to the correct endpoint

Would you like me to help you create the API endpoint?"
```

### Step 2: The Fix

```
You: "Yes, please create the endpoint"

Claude: "I'll create a simple Express.js endpoint for you..."

[Claude generates server code]

Claude: "Here's the server code. Add this to your server file:

```javascript
// server.js
app.post('/api/contact', (req, res) => {
  const { name, email, message } = req.body;
  
  // Validate input
  if (!name || !email || !message) {
    return res.status(400).json({ error: 'All fields are required' });
  }
  
  // Process the form submission
  // ... your business logic here ...
  
  res.status(200).json({ success: true });
});
```

Now restart your server and try the form again."
```

### Step 3: Verification

```
You: "It works! Thanks!"

Claude: "Great! I can see the request is now returning 200 OK. The form is working correctly."
```

Total time: ~3 minutes.

## What Gasoline Captured

Here's what Gasoline MCP showed Claude:

### Console Logs
```json
{
  "level": "error",
  "message": "Error submitting form: Error: Submission failed",
  "timestamp": 1707523200000,
  "stack": "..."
}
```

### Network Request
```json
{
  "method": "POST",
  "url": "/api/contact",
  "status": 404,
  "statusText": "Not Found",
  "requestHeaders": {
    "Content-Type": "application/json"
  },
  "requestBody": {
    "name": "Test User",
    "email": "test@example.com",
    "message": "This is a test"
  },
  "responseBody": "Cannot POST /api/contact"
}
```

### User Action
```json
{
  "type": "click",
  "selector": "button[type='submit']",
  "timestamp": 1707523199000
}
```

## Setting Up Gasoline MCP

### Step 1: Install the Extension

Download the CRX file from [cookwithgasoline.com/downloads](https://cookwithgasoline.com/downloads/)

1. Open `chrome://extensions`
2. Enable Developer mode
3. Drag and drop the `.crx` file

### Step 2: Start the MCP Server

```bash
npx gasoline-mcp@6.0.0
```

### Step 3: Configure Your AI Tool

Add to your MCP config (Claude Desktop, Cursor, etc.):

```json
{
  "mcpServers": {
    "gasoline": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "gasoline-mcp"]
    }
  }
}
```

## Advanced Debugging Scenarios

### Scenario 1: WebSocket Connection Issues

```
You: "My real-time features aren't working"

Claude: "I can see the WebSocket connection is failing. The server is rejecting the connection with error code 1006 (abnormal closure). Looking at the console logs, there's a CORS error before the WebSocket connection attempt. You need to configure CORS on your server to allow WebSocket connections from your origin."
```

### Scenario 2: Race Condition

```
You: "Sometimes the data loads, sometimes it doesn't"

Claude: "I see a race condition. The component is trying to access data before the fetch completes. Looking at the network waterfall, the API request takes 800ms, but the component renders after 200ms. You should add a loading state."
```

### Scenario 3: Memory Leak

```
You: "The app gets slower over time"

Claude: "I can see the memory usage growing with each page navigation. The event listeners aren't being cleaned up when components unmount. You need to add cleanup in your useEffect return function."
```

## Tips for Effective AI Debugging

### 1. Be Specific

Instead of:
```
"It's broken"
```

Try:
```
"The contact form isn't submitting when I click the Send button"
```

### 2. Let the AI Investigate First

Let Claude use Gasoline tools to investigate before providing context. The AI will ask for clarification if needed.

### 3. Verify Fixes

After applying a fix, test it and let Claude verify the fix through Gasoline.

### 4. Learn from the AI

Pay attention to how the AI diagnoses issues. You'll learn debugging patterns you can use yourself.

## Common Issues and Solutions

### Issue: Gasoline isn't capturing data

**Solution:** 
- Make sure the extension is enabled
- Check that the MCP server is running
- Verify the page is using the correct tab
- Try refreshing the page

### Issue: AI can't see recent events

**Solution:**
- Gasoline captures events in real-time
- Make sure you're testing after the AI has connected to the MCP server
- Try reloading the page to start a fresh capture

### Issue: Too much noise in console

**Solution:**
- Use Gasoline's noise filtering feature
- Configure which console levels to capture
- Use the search feature to find specific events

## What's Next?

Now that you know how to debug AI-generated code with Gasoline, check out:

- [How Gasoline Captures WebSocket Messages](/blog/websocket-capture)
- [Auto-Generating Playwright Tests from Sessions](/blog/playwright-test-generation)
- [Web Vitals Regression Detection](/blog/web-vitals-regression)

## Join the Community

Have questions or want to share your debugging stories? Join our Discord community or open an issue on GitHub.

---

**Related Posts:**
- [Browser Observability for AI Coding Agents](/blog/browser-observability-for-ai)
- [How Gasoline Captures Network Bodies](/blog/network-bodies-capture)
- [Setting Up Gasoline with Your AI Tool](/blog/setup-guide)
